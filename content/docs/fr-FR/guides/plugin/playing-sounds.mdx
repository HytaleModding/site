---
title: Jouer des Sons
description: Apprenez à jouer des sons avec votre plugin Hytale
authors:
  - name: Neil Revin
    link: https://itsneil.dev
---

Dans ce guide, vous apprendrez comment jouer des sons pour un joueur.

## Index de Sons

Nous avons actuellement beaucoup de sons disponibles pour être utilisés comme clé dans l'AssetMap, [cliquez ici](../../server/sounds) pour voir la liste complète des sons disponibles.

Vous pouvez utiliser la méthode `getAssetMap()` de la classe `SoundEvent` pour obtenir l'index d'un son spécifié :

```java
int index = SoundEvent.getAssetMap().getIndex("SFX_Cactus_Large_Hit");
```

## Le Composant Transform

Le `TransformComponent` est le composant qui indique à Hytale où jouer le son. Vous pouvez l'obtenir de plusieurs façons.

1. Obtenir le Transform Component depuis l'objet `Player`

```java
TransformComponent transform = store.getComponent(context.senderAsPlayerRef(), EntityModule.get().getTransformComponentType());
```

2. Générer un nouveau TransformComponent (bien que cela ne soit pas recommandé, car si votre joueur n'est pas assez proche, il n'entendra pas le son)

```java
Vector3d vector3d = new Vector3d(0, 0, 0); // position
Vector3f vector3f = new Vector3f(0, 0, 0); // rotation
TransformComponent transform = new TransformComponent(vector3d, vector3f);
```

### PlayerRef

Vous avez besoin d'une référence de joueur, qui est une instance de `Ref<EntityStore>`. Si vous avez l'objet `Player`, vous pouvez utiliser la méthode `getReference()` pour obtenir une référence de joueur

### World

Vous avez besoin d'une référence World, car le son doit être joué à l'intérieur de la méthode `execute()` de la classe `World`.

### SoundCategory

Il existe une énumération `SoundCategory` qui définit différentes catégories de sons, telles que `Music`, `Ambient`, `SFX` et `UI`. Vous pouvez utiliser ces catégories pour spécifier le type de son que vous jouez.

## Jouer des Sons

Vous pouvez utiliser la classe `SoundUtil` pour jouer des sons, en utilisant la méthode `playSoundEvent3dToPlayer`.

```java
int index = SoundEvent.getAssetMap().getIndex("SFX_Cactus_Large_Hit");
World world = player.getWorld();
EntityStore store = world.getEntityStore();
Ref<EntityStore> playerRef = player.getReference();
world.execute(() -> {
    TransformComponent transform = store.getStore().getComponent(playerRef, EntityModule.get().getTransformComponentType());
    SoundUtil.playSoundEvent3dToPlayer(playerRef, index, SoundCategory.UI, transform.getPosition(), store.getStore());
});
```
