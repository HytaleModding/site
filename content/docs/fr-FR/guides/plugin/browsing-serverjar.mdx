---
title: Parcourir le code du server.jar
description: Apprenez à patcher le server.jar et à parcourir le code source.
---

Le ~~patcher~~ vous permet de préparer plus facilement un environnement pour explorer le serveur Hytale sans publier le code décompilé.

## Configuration

- Clonez le patcher `git clone https://github.com/HytaleModding/patcher.git`, et entrez dans le répertoire. `cd patcher`

- Créez un environnement virtuel Python dans le dossier `.venv`. La commande pour cela varie selon la plateforme mais c'est probablement
  l'une de celles-ci :

  - `python -m venv .venv`
  - `python3 -m venv .venv` (Linux)
  - `py -3.13 -m venv .venv` (Windows)

  Dans la dernière, spécifier la version est recommandé si vous avez plusieurs versions de Python installées.

- Activez l'environnement virtuel :
  - Windows: `".venv\Scripts\activate"`  (incluant les guillemets)
  - Linux/Mac: `source .venv/bin/activate`
  - À partir de maintenant, vous exécutez les commandes python depuis l'intérieur du venv, vous devez donc utiliser `python` au lieu de `py` ou `python3` pour invoquer python.

- À l'intérieur du venv, vous devez installer les dépendances
  - `pip install -r requirements.txt`

- Installez ces dépendances et assurez-vous qu'elles sont dans le PATH :
  - `git`
  - `java` vous avez besoin du JDK 25 ou plus récent
  - `jar` (fourni avec le JDK dans le dossier bin)
  - `mvn`

## Utilisation

Placez votre HytaleServer.jar dans le même répertoire racine de ce dépôt ou spécifiez une variable d'environnement `HYTALESERVER_JAR_PATH` avec le chemin vers votre HytaleServer.jar

Ensuite exécutez ceci :

```shell
python run.py setup
```

Cela va

- copier le HytaleServer.jar dans `work/download`
  - (sur Windows) corriger la collision de nom `META-INF/license`
- le décompiler en utilisant Fernflower et sauvegarder la sortie dans `work/decompile`
- configurer un projet Maven dans `hytale-server` avec le code décompilé

Vous pouvez ensuite ouvrir le dossier `hytale-server` dans votre IDE favori et commencer à explorer le code. Pour _IntelliJ IDEA_,
vous devez d'abord configurer le SDK. Après avoir ouvert le projet (vous pouvez ouvrir le fichier `pom.xml`, IDEA vous demandera d'ouvrir
le projet entier) appuyez sur Ctrl+Alt+Shift+S et sous _Project_ configurez SDK et Language level à _25_.

Si IDEA n'offre pas d'option pour exécuter le fichier principal, faites un clic droit sur le dossier `src` -> Mark Directory As -> Sources Root
puis rechargez le projet maven :\
![_readme_images/img.png](/assets/reload-maven.png)\
Il est situé dans l'icône "m" sur le côté droit :\
![_readme_images/m.png](/assets/maven.png)\
Si vous ne le voyez pas, activez-le sous View -> Tool Windows -> Maven.\
![_readme_images/tool_windows.png](/assets/view-windowtools-maven.png)

Ce code décompilé est probablement cassé. Mais il est quelque peu utilisable pour l'exploration. Essayez Ctrl+Shift+F et recherchez PacketAdapters
