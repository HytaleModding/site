---
title: Personnaliser les Contrôles de Caméra
description: Introduction au modding de caméra personnalisée.
authors:
  - name: Vibe Theory
    url: https://discord.com/users/145420279294722048
---

## Les Bases

Hytale offre une grande personnalisabilité de la caméra ! Voici l'essentiel pour commencer.

La caméra est contrôlée en envoyant un paquet `SetServerCamera` avec `ServerCameraSettings` :

```java
ServerCameraSettings settings = new ServerCameraSettings();
settings.distance = 10.0f;           // Zoom distance from player
settings.isFirstPerson = false;      // Third-person mode
settings.positionLerpSpeed = 0.2f;   // Smooth camera follow

playerRef.getPacketHandler().writeNoCache(
    new SetServerCamera(ClientCameraView.Custom, true, settings)
);
```

Cela vous donne une simple caméra à la troisième personne. Les préréglages ci-dessous montrent des configurations plus complètes.

**Réinitialiser par défaut :**

```java
playerRef.getPacketHandler().writeNoCache(
    new SetServerCamera(ClientCameraView.Custom, false, null)
);
```

---

## Préréglages de Caméra

### Vue de Dessus (Style RTS/ARPG)

_Source: `com.hypixel.hytale.server.core.command.commands.player.camera.PlayerCameraTopdownCommand`_

```java
ServerCameraSettings settings = new ServerCameraSettings();
settings.positionLerpSpeed = 0.2f;
settings.rotationLerpSpeed = 0.2f;
settings.distance = 20.0f;
settings.displayCursor = true;
settings.isFirstPerson = false;
settings.movementForceRotationType = MovementForceRotationType.Custom;
// Align movement with camera yaw (horizontal rotation only)
settings.movementForceRotation = new Direction(-0.7853981634f, 0.0f, 0.0f);  // 45° left
settings.eyeOffset = true;
settings.positionDistanceOffsetType = PositionDistanceOffsetType.DistanceOffset;
settings.rotationType = RotationType.Custom;
settings.rotation = new Direction(0.0f, -1.5707964f, 0.0f);  // Look straight down
settings.mouseInputType = MouseInputType.LookAtPlane;
settings.planeNormal = new Vector3f(0.0f, 1.0f, 0.0f);       // Ground plane
```

### Défilement Latéral (Style Plateforme 2D)

_Source: `com.hypixel.hytale.server.core.command.commands.player.camera.PlayerCameraSideScrollerCommand`_

```java
ServerCameraSettings settings = new ServerCameraSettings();
settings.positionLerpSpeed = 0.2f;
settings.rotationLerpSpeed = 0.2f;
settings.distance = 15.0f;
settings.displayCursor = true;
settings.isFirstPerson = false;
settings.movementForceRotationType = MovementForceRotationType.Custom;
settings.movementMultiplier = new Vector3f(1.0f, 1.0f, 0.0f);  // Lock Z-axis
settings.eyeOffset = true;
settings.positionDistanceOffsetType = PositionDistanceOffsetType.DistanceOffset;
settings.rotationType = RotationType.Custom;
settings.mouseInputType = MouseInputType.LookAtPlane;
settings.planeNormal = new Vector3f(0.0f, 0.0f, 1.0f);         // Side plane
```

## Paramètres Courants Expliqués

### Position & Rotation

- **`positionLerpSpeed`** (0.0-1.0) : Avec quelle fluidité la caméra suit le joueur. Plus bas = plus fluide mais réponse plus lente.
- **`rotationLerpSpeed`** (0.0-1.0) : Avec quelle fluidité la caméra tourne. Plus bas = plus fluide mais réponse plus lente.
- **`distance`** : Distance de la caméra par rapport au joueur. Plus haut = plus dézoomé.
- **`rotation`** : Angle de la caméra en tant que `Direction(yaw, pitch, roll)` en radians.
- **`rotationType`** : Comment la rotation est calculée. `RotationType.Custom` utilise votre valeur `rotation`.

### Alignement du Mouvement

- **`movementForceRotationType`** :
- `MovementForceRotationType.AttachedToHead` = le mouvement suit où le joueur regarde
- `MovementForceRotationType.Custom` = utilise la valeur `movementForceRotation`
- **`movementForceRotation`** : Lors de l'utilisation de `Custom`, cela définit la direction pour le mouvement W/S. Faites correspondre le yaw avec la caméra mais gardez le pitch à 0.

### Entrée & Affichage

- **`displayCursor`** : Afficher/masquer le curseur de la souris.
- **`mouseInputType`** :
- `MouseInputType.LookAtPlane` = la souris déplace le curseur sur un plan (bon pour la vue de dessus)
- `MouseInputType.LookAtTarget` = la souris fait pivoter la caméra
- **`planeNormal`** : Pour `LookAtPlane`, définit sur quel plan la souris se déplace. `(0,1,0)` = plan du sol.

### Avancé

- **`positionDistanceOffsetType`** :
- `DistanceOffset` = décalage de distance simple
- `DistanceOffsetRaycast` = empêche la caméra de traverser les murs
- **`eyeOffset`** : Décaler la caméra de la position des yeux du joueur.
- **`movementMultiplier`** : Mettre à l'échelle le mouvement sur chaque axe. `(1,1,0)` = verrouiller l'axe Z pour un mouvement 2D.

---

## Imports

```java
import com.hypixel.hytale.protocol.ClientCameraView;
import com.hypixel.hytale.protocol.Direction;
import com.hypixel.hytale.protocol.MouseInputType;
import com.hypixel.hytale.protocol.MovementForceRotationType;
import com.hypixel.hytale.protocol.PositionDistanceOffsetType;
import com.hypixel.hytale.protocol.RotationType;
import com.hypixel.hytale.protocol.ServerCameraSettings;
import com.hypixel.hytale.protocol.Vector3f;
import com.hypixel.hytale.protocol.packets.camera.SetServerCamera;
```

---

## Conseils

- **Zoom :** Ajustez `distance` (plus haut = plus éloigné)
- **Fluidité :** `positionLerpSpeed` et `rotationLerpSpeed` contrôlent la rapidité avec laquelle la caméra rattrape sa cible
- **Traversée de murs :** Utilisez `PositionDistanceOffsetType.DistanceOffsetRaycast`
- **Verrouiller la caméra :** Définissez `isLocked = true` dans le paquet pour empêcher les changements du joueur
- **Mouvement 2D :** Définissez `movementMultiplier` pour mettre à zéro un axe
- **Caméras isométriques :** Définissez toujours `movementForceRotation` pour correspondre au yaw de la caméra pour un alignement de mouvement approprié
- **Calculs d'angles :** Utilisez `Math.toRadians(degrees)` ou `degrees * Math.PI / 180.0` pour convertir les degrés en radians

---

_Depuis Hytale Server build `2026.01.13-dcad8778f`_
