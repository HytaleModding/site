---
title: Créer des Commandes
description: Apprenez à créer des commandes personnalisées pour votre mod Hytale.
authors:
  - name: Neil Revin
    link: https://itsneil.dev
  - name: oskarscot
    link: https://oskar.scot
---

Dans ce guide, vous apprendrez comment créer des commandes personnalisées pour votre mod Hytale.

## La Classe `AbstractPlayerCommand`

Pour créer une commande, vous pouvez étendre la classe `AbstractPlayerCommand`. Vous devez fournir un constructeur qui appelle le constructeur `BaseCommand` avec le nom de la commande, la description, et si la commande nécessite une confirmation (--confirm lors de l'exécution de la commande).

Vous pouvez surcharger la fonction `execute` pour implémenter le comportement de la commande. Elle vous donne accès au CommandContext qui est toujours un joueur dans ce cas, à l'EntityStore, au Reference store, à la référence du joueur ainsi qu'au World dans lequel la commande est exécutée.
Il est important de savoir que `AbstractPlayerCommand` étend `AbstractAsyncCommand`, ce qui signifie que les commandes ne s'exécutent pas sur le thread principal du serveur.

Vous pouvez utiliser le `Store` avec le `Ref` pour accéder à tous les composants d'entité comme le composant `Player`, `UUIDComponent` ou `TransformComponent`.

```java
public class ExampleCommand extends AbstractPlayerCommand {

  public ExampleCommand() {
    super("test", "Super test command!");
  }

  @Override
  protected void execute(@Nonnull CommandContext commandContext, @Nonnull Store<EntityStore> store, @Nonnull Ref<EntityStore> ref, @Nonnull PlayerRef playerRef, @Nonnull World world) {
    Player player = store.getComponent(ref, Player.getComponentType()); // also a component
    UUIDComponent component = store.getComponent(ref, UUIDComponent.getComponentType());
    TransformComponent transform = store.getComponent(ref, TransformComponent.getComponentType());
    player.sendMessage(Message.raw("Player#getUuid() : " + player.getUuid())); // returns UUID from UUIDComponent
    player.sendMessage(Message.raw("UUIDComponent : " + component.getUuid()));
    player.sendMessage(Message.raw("equal : " + player.getUuid().equals(component.getUuid()))); // they're both the same
    player.sendMessage(Message.raw("Transform : " + transform.getPosition()));
  }

}
```

## Enregistrer la Commande

Pour toute commande

```java
public class MyPlugin extends JavaPlugin {

    @Override
    public void setup() {
        this.getCommandRegistry().registerCommand(new ExampleCommand());
    }
}
```
